収集する米は連続した区間になっている．  
米lからrまでを収集するとする  
このとき輸送費がもっとも安くなる米集積所の位置はX[ (l+r)/2]つまり米の座標の中央値になる．  
理由  
集積所より左にa個，右にb個米があるとする．  
もしa < bならばもっと右に集積所を置いた方がよい  
なぜなら右に1ずらすと輸送費は+aだけ高くなり-bだけ安くなり特をするからである．  
同様にa > bならもっと左に集積所を置いた方がよい  
最終的にa=bとなる位置つまり中央値におくことになる  

ではこのときの輸送費を計算してみよう  
米の個数が奇数のとき真ん中の米の位置に集積所を置く  
問題文のサンプルにあるような図と真ん中への矢印を書くと分かりやすいが，真ん中に近いほうから左右でペアにしていくと各ペアの座標の(大きいほう-小さいほう)の合計で計算できる．  
つまり(右半分の座標の合計)-(左半分の座標の合計)になる  
米が偶数のときも同じように(右半分の座標の合計)-(左半分の座標の合計)になる  

座標の累積和を計算しておくと，ある区間l～rの米を集積するためにかかる輸送費をO(1)で計算することができる．  
区間l～rをN^2通りすべて調べるとO(N^2)で68点  
答えを二分探索してP個の米を収集できるかという判定問題を解く  
判定は長さがPの区間を全部調べればいいのでO(N)で判定問題をとくことができ，全部でO(NlogN)となり満点がとれる．  
